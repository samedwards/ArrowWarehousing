!function(v){v(document).ready(function(){CloudZoom.quickStart();var t=v(".cloudZoomAdjustPictureOnProductAttributeValueChange"),r=v(".cloudZoomPictureThumbnailsInCarouselData");if("true"===t.attr("data-isIntegratedByWidget")){var a,o,e="#sevenspikes-cloud-zoom",i=v(e),n=i.attr("data-defaultImageContainerSelector");if(null==n||""===n)return;v(n).each(function(){v(this).find(e).length<=0?a=v(this):o=v(this)}),null!=a&&null!=o&&(a.replaceWith(o),o.show()),function(t){var a=t.attr("data-selectorOfTheParentElementOfTheCloudZoomWindow");if(null!=a&&""!==a){var o=v(a);if(null!=o){var e=t.attr("data-zoomWindowElementId");if(null==e||""===e)return;var i="<div id="+e+' style="position: absolute;"></div>';v(o).prepend(i)}}}(i),v.event.trigger({type:"nopCloudZoomLoadCompletedEvent"});var l=i.attr("data-zoomWindowElementId");v("#cloudZoomImage").bind("cloudzoom_start_zoom",function(){if(l){var t=i.attr("data-zoom-window-width"),a=i.attr("data-zoom-window-height");v("#"+l).width(t),v("#"+l).height(a)}v(".gallery .ribbon-wrapper .ribbon-position").hide()}),v("#cloudZoomImage").bind("cloudzoom_end_zoom",function(){l&&(v("#"+l).css("width",""),v("#"+l).css("height","")),v(".gallery .ribbon-wrapper .ribbon-position").show()})}if(v("#cloudZoomImage").bind("cloudzoom_ready",function(){var t,a=v("#cloudZoomImage").data("CloudZoom");(t=a)&&0<t.options.autoInside&&(v(window).width()<t.options.autoInside&&(t.options.captionPosition="bottom"),v(window).resize(function(){v(window).width()<=t.options.autoInside?t.options.captionPosition="bottom":t.options.captionPosition="top"}))}),0<r.length){var u=parseInt(r.attr("data-numVisible"))||5,d=parseInt(r.attr("data-numScrollable"))||u||5,s="true"===r.attr("data-enable-slider-arrows"),c="true"===r.attr("data-enable-slider-dots"),p="true"===r.attr("data-vertical"),m="true"===r.attr("data-rtl"),g=r.attr("data-responsive-breakpoints-for-thumbnails"),h={},f=!p&&m;try{h=JSON.parse(g);for(var b=0;b<h.length;b++)h[b].settings.vertical||(h[b].settings.rtl=m)}catch(t){console.log("Invalid carousel breakpoints setting value!")}v("#picture-thumbs-carousel").slick({rtl:f,infinite:!0,vertical:p,slidesToShow:u,slidesToScroll:d,arrows:s,dots:c,easing:"swing",draggable:!1,responsive:h}),u<v("#picture-thumbs-carousel").slick("getSlick").slideCount&&s&&v(".sevenspikes-cloudzoom-gallery .picture-thumbs").addClass("has-navigation")}0<v(".cloudZoomEnableClickToZoom").length&&v("#cloudZoomImage").bind("click",function(){v(this).data("CloudZoom").closeZoom();var t=new Array,a=function(t,a){this.src=t,this.title=a};v(".picture-thumbs a.cloudzoom-gallery").length<1&&t.push(new a(v(".picture a.picture-link").attr("data-full-image-url"),v(".picture a.picture-link img").attr("title"))),v(".picture-thumbs a.cloudzoom-gallery").each(function(){v(this).parent().hasClass("slick-cloned")||t.push(new a(v(this).attr("data-full-image-url"),v(this).attr("title")))});for(var o=0,e=0;e<t.length;e++)if(t[e].src){var i=t[e].src.slice(0,-5);if(-1!==v(".picture a.picture-link img").attr("src").indexOf(i)){o=e;break}}return v.magnificPopup.open({items:t,type:"image",removalDelay:300,gallery:{enabled:!0,tPrev:r.attr("data-magnificpopup-prev"),tNext:r.attr("data-magnificpopup-next"),tCounter:r.attr("data-magnificpopup-counter")},tClose:r.attr("data-magnificpopup-close"),tLoading:r.attr("data-magnificpopup-loading")},o),!1}),v(document).on("product_attributes_changed",function(t){if(t.changedData&&t.changedData.pictureFullSizeUrl){var a=t.changedData.pictureFullSizeUrl;v('.cloudzoom-gallery[data-full-image-url="'+a+'"]').click(),v.event.trigger({type:"nopMainProductImageChanged",pictureDefaultSizeUrl:a,pictureFullSizeUrl:a})}})})}(jQuery);