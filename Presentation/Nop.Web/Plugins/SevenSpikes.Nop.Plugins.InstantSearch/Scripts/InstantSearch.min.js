!function(d){d(document).ready(function(){var h=d(".instantSearchResourceElement");if(0!==h.length){(0<d("#instant-search-categories").length||0<d("#instant-search-manufacturers").length||0<d("#instant-search-vendors").length)&&(d(".search-box-text").addClass("narrow"),d(".store-search-box").addClass("with-caregory-search-enabled"));var r=parseInt(h.attr("data-numberOfVisibleProducts"));d("#small-searchterms").kendoAutoComplete({highlightFirst:"true"===h.attr("data-highlightFirstFoundElement"),minLength:parseInt(h.attr("data-minKeywordLength"))||0,dataTextField:"ProductName",filter:"contains",popup:{appendTo:d("#small-search-box-form")},template:kendo.template(d("#instantSearchItemTemplate").html()),height:"auto",dataSource:new kendo.data.DataSource({serverFiltering:!0,requestStart:function(){d("#small-searchterms").addClass("instant-search-busy")},change:function(){d("#small-searchterms").removeClass("instant-search-busy")},transport:{read:h.attr("data-instantSearchUrl"),parameterMap:function(){return{q:d("#small-searchterms").val(),categoryId:d("#instant-search-categories").val(),manufacturerId:d("#instant-search-manufacturers").val(),vendorId:d("#instant-search-vendors").val()}}}}),change:function(){var t=d(".k-list").find(".k-state-selected").find(".instant-search-item").attr("data-url");void 0===t||setLocation(t)},dataBound:function(){d("#small-searchterms").data("kendoAutoComplete").list.parent(".k-animation-container").addClass("instantSearch"),(0<d("#instant-search-categories").length||0<d("#instant-search-manufacturers").length||0<d("#instant-search-vendors").length)&&d(".k-animation-container").addClass("resize"),function(){var t=d("#small-searchterms_listbox").children().slice(0,r),a=0;if(t.length===r)for(var e=0;e<t.length;e++)a+=d(t[e]).outerHeight();0<a&&d("#small-searchterms-list").css("height",a)}()}}),"false"===h.attr("data-highlightFirstFoundElement")&&d("#small-search-box-form").on("keydown",function(t){13===t.keyCode&&d(this).submit()}),d("#small-search-box-form").submit(function(t){var a=d("#instant-search-categories").val()||0,e=d("#instant-search-manufacturers").val()||0,r=d("#instant-search-vendors").val()||0,n=d("#small-searchterms").val();if(n){var s=h.attr("data-searchInProductDescriptions"),i=0<a||0<e||0<r||s,o=h.attr("data-searchPageUrl"),c=encodeURIComponent(n),l=h.attr("data-defaultProductSortOption");window.location.href=o+"?adv="+i+"&cid="+a+"&mid="+e+"&vid="+r+"&q="+c+"&sid="+s+"&isc=true&orderBy="+l}t.preventDefault()})}})}(jQuery);